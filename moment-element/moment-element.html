<link rel="import" href="//cdn.rawgit.com/download/polymer-cdn/1.6.1/lib/polymer/polymer.html">
<link rel="import" href="../forge-behaviors/forge-languagechange-behavior.html">

<dom-module id="moment-element">

<style>
</style>

<template>[[output]]</template>

<script>
(function() {
  "use strict";

  Polymer({
    is: 'moment-element',
    behaviors: [ForgeWebComponents.Behaviors.ForgeLanguageChangeBehavior],
    properties: {
      dateTime: {
        type: String
      },
      format: {
        type: String,
        value: "fromNow"
      },
      output: {
        type: String,
        computed: '_computeOutput(language, dateTime, format)'
      }
    },
    _computeOutput: function(language, datetime, format) {
      if (moment.locale() !== language) moment.locale(language);
      var output = moment(datetime);
      output = output.fromNow();
      return output;
    }
  });

})();
</script>

</dom-module>
