<!doctype html>
<html>
  <head>
    <script src="/_lib/webcomponentsjs/webcomponents-lite.js"></script>
    <script>
      /*
      window.Polymer = window.Polymer || {};
      window.Polymer.dom = 'shadow';
      */
    </script>

    <link rel="import" href="../../libraries/libraries.html">
    <link rel="import" href="../../custom-styles/forge-core-style.html">

    <link rel="import" href="../forge-status-card.html">
    <link rel="import" href="../forge-nodes-status-card.html">
    <link rel="import" href="../forge-metrics-card.html">
    <link rel="import" href="../forge-metrics-panel.html">
    <link rel="import" href="../forge-exceeding-threshold-panel.html">

  </head>
  <body>

    <div>
      <button onclick="changeLanguage('en')">ENG</button>
      <button onclick="changeLanguage('it')">ITA</button>
    </div>

    <forge-status-card role="ApplicationService"></forge-status-card>

    <forge-status-card role="BackEnd"></forge-status-card>

    <forge-status-card role="DistributionApi"></forge-status-card>

    <forge-status-card role="FrontEnd"></forge-status-card>

    <forge-nodes-status-card></forge-nodes-status-card>

    <forge-metrics-card heading="Distribution Api"
                        icon="icons:cloud-circle"
                        more-info-url="#/performance">
      <forge-metrics-panel url="/api/statistics/computed?queryId=distReqSec&refreshMs=5000"
                           icon="icons:assessment"
                           title="Distribution Requests/sec">
      </forge-metrics-panel>
      <forge-metrics-panel url="/api/statistics/computed0?queryId=distExecTime&refreshMs=5000"
                           icon="image:timer"
                           title="Distribution Execution Time (ms)"
                           threshold-warning="100"
                           threshold-danger="300">
      </forge-metrics-panel>
      <forge-metrics-panel url="/api/statistics/computed0?queryId=distExecTime&refreshMs=5000"
                           icon="image:timer"
                           title="Distribution Execution Time (ms)"
                           threshold-warning="1000"
                           threshold-danger="3000">
      </forge-metrics-panel>
    </forge-metrics-card>

    <forge-metrics-card heading="Front End"
                        icon="social:public"
                        more-info-url="#/performance">
      <forge-metrics-panel url="/api/statistics/computed1?queryId=execTime&refreshMs=5000"
                           icon="icons:assessment"
                           title="Requests/sec">
      </forge-metrics-panel>
      <forge-metrics-panel url="/api/statistics/computed2?queryId=reqSec&refreshMs=5000"
                           icon="image:timer"
                           title="Execution Time (ms)"
                           threshold-warning="1000"
                           threshold-danger="3000">
      </forge-metrics-panel>
      <forge-metrics-panel url="/api/statistics/computed3?queryId=dataReqSec&refreshMs=5000"
                           icon="icons:dns"
                           title="Data queries/sec">
      </forge-metrics-panel>
      <forge-exceeding-threshold-panel url="api/statistics/counted?queryId=itemsExceeding&refreshMs=5000"
                           icon="icons:alarm"
                           title="Items exceeding threshold"
                           threshold-danger="1">
      </forge-exceeding-threshold-panel>
    </forge-metrics-card>

    <script>
    function changeLanguage(lang) {
      ForgeWebComponents.Helpers.EventHelper.changeLanguage(lang);
    }
    </script>

  </body>
</html>
