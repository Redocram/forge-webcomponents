<script>
(function() {

  "use strict";

  function ItemIcon(icon, color) {
    this.icon = icon;
    this.color = color || "#ccc";
  }

  var palette = [
    "#1B5E20", "#B71C1C", "#FBC02D", "#311B92", "#BF360C", "#01579B",
    "#263238", "#880E4F", "#1A237E", "#80DEEA", "#C5E1A5", "#FFE082",
    "#BCAAA4", "#CE93D8", "#90CAF9", "#80CBC4", "#E6EE9C", "#FFCC80"
  ];

  var systemRoles = {
    ApplicationService: {
      icon: "icons:settings"
    },
    BackEnd: {
      icon: "device:storage"
    },
    FrontEnd: {
      icon: "social:public"
    },
    DistributionApi: {
      icon: "icons:cloud-circle"
    }
  };

  var systemEntityIcons = {
    story: new ItemIcon("icons:description", "dodgerblue"),
    photo: new ItemIcon("image:photo", "darkorange"),
    album: new ItemIcon("image:photo-album", "orangered"),
    tag: new ItemIcon("icons:label", "darkgreen"),
    selection: new ItemIcon("editor:format-list-bulleted", "#663300"),
    document: new ItemIcon("editor:attach-file", "blueviolet"),
    customentity: new ItemIcon("icons:extension", "#bbb"),
    unknown: new ItemIcon("icons:help-outline", "#bbb")
  };

  var customEntityDefinitions = ForgeWebComponents.Config["deltatre.forge.wcm"].CustomEntitiesConfiguration.Definitions;

  customEntityDefinitions.forEach(function(ce, idx) {
    var code = ce.Code.toLowerCase();
    var color = palette[idx % palette.length];
    systemEntityIcons[code] = new ItemIcon("icons:extension", color);
  });

  window.ForgeWebComponents = window.ForgeWebComponents || {};
  window.ForgeWebComponents.Settings = window.ForgeWebComponents.Settings || {};
  window.ForgeWebComponents.Settings.SystemRoles = systemRoles;
  window.ForgeWebComponents.Settings.EntityIcons = systemEntityIcons;
  window.ForgeWebComponents.Settings.DefaultLocale = window.ForgeWebComponents.Settings.DefaultLocale || 'en';

})();
</script>
